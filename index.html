
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Calculadora Gastos">
    <meta name="theme-color" content="#667eea">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Calculadora de Gastos - Juego Interactivo</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Iconos para PWA -->
    <link rel="icon" type="image/png" href="styles/Logo/d856f2_cf6bc381d9fb47c6ad407ae5095cc914~mv2.png">
    <link rel="apple-touch-icon" href="styles/Logo/d856f2_cf6bc381d9fb47c6ad407ae5095cc914~mv2.png">
    
    <link rel="stylesheet" href="styles/main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <!-- Main Game Container -->
    <main id="game-container" class="game-container">
        <!-- Screen Container for transitions -->
        <section id="screen-container" class="screen-container">
            <!-- User Name Display -->
            <div id="user-name-display" class="user-name-display hidden"></div>
            
            <!-- Initial Welcome Screen (Pantalla Principal 1) -->
            <div id="initial-welcome-screen" class="screen active" data-screen="initial-welcome">
                <header class="screen-header">
                    <h1 class="animated-title" style="font-size: 1.8rem; line-height: 1.3;">
                        üéØ Calculadora<br>Inteligente de Gastos
                    </h1>
                </header>
                <div class="screen-content">
                    <div class="logo-container">
                        <img src="styles/Logo/d856f2_cf6bc381d9fb47c6ad407ae5095cc914~mv2.png" alt="Logo" class="main-logo">
                    </div>
                    <div class="name-input-container">
                        <label for="user-name-input" class="name-input-label">Ingrese su nombre</label>
                        <input type="text" id="user-name-input" class="name-input" placeholder="Escriba su nombre aqu√≠" maxlength="50">
                    </div>
                    <div class="gender-selector-container">
                        <label class="gender-selector-label">Seleccione:</label>
                        <div class="gender-options">
                            <button type="button" class="gender-option" data-gender="hombre">Hombre</button>
                            <button type="button" class="gender-option" data-gender="mujer">Mujer</button>
                            <button type="button" class="gender-option" data-gender="familia">Familia</button>
                        </div>
                    </div>
                    <button id="initial-welcome-button" class="primary-button welcome-button">
                        üëâ BIENVENIDOS
                    </button>
                </div>
            </div>

            <!-- Welcome Screen (Pantalla Principal 2) -->
            <div id="welcome-screen" class="screen" data-screen="welcome">
                <button class="back-button" data-back-to="initial-welcome">‚Üê</button>
                <header class="screen-header">
                    <h1 id="welcome-title" class="animated-title">üëã Hola</h1>
                </header>
                <div class="screen-content">
                    <div class="welcome-text">
                        <p class="welcome-question">¬øEst√°s listo para descubrir cu√°nto dinero est√°s gastando realmente en productos de limpieza y agua poco saludable?</p>
                        <p class="welcome-time">‚è±Ô∏è Solo te tomar√° unos segundos.</p>
                    </div>
                    <button id="start-button" class="primary-button welcome-button">
                        üëâ S√ç, QUIERO SABER
                    </button>
                </div>
            </div>

            <!-- Rules Screen -->
            <div id="rules-screen" class="screen" data-screen="rules">
                <button class="back-button" data-back-to="welcome">‚Üê</button>
                <header class="screen-header">
                    <h2>üïπÔ∏è El reto comienza</h2>
                </header>
                <div class="screen-content">
                    <div class="rules-content">
                        <p class="rules-main-text">
                            Tendr√°s 15 segundos para elegir el precio aproximado de los productos que usas actualmente.
                        </p>
                        <div class="rules-instructions">
                            <p class="instruction-item">üëâ No tiene que ser exacto.</p>
                            <p class="instruction-item">üëâ Solo elige la opci√≥n que m√°s se acerque a tu realidad.</p>
                        </div>
                        <p class="rules-question">¬øPreparado?</p>
                    </div>
                    <button id="rules-continue" class="primary-button rules-button">
                        üöÄ S√ç, EMPEZAR
                    </button>
                </div>
            </div>

            <!-- Countdown Screen -->
            <div id="countdown-screen" class="screen" data-screen="countdown">
                <button class="back-button" data-back-to="rules">‚Üê</button>
                <div class="countdown-display">
                    <div id="countdown-number" class="countdown-number">3</div>
                </div>
            </div>

            <!-- Price Screen -->
            <div id="price-screen" class="screen" data-screen="price">
                <button class="back-button" data-back-to="countdown">‚Üê</button>
                <header class="screen-header">
                    <h2 id="price-question">¬øCu√°l es el costo del producto que usas?</h2>
                    <div id="product-name" class="product-name">
                        <span class="product-emoji"></span>
                        <span class="product-name-text"></span>
                    </div>
                    <div id="price-instruction" class="instruction-text">üëâ Selecciona el precio que m√°s se acerca</div>
                </header>
                <div class="screen-content">
                    <div id="timer-display" class="timer-display">
                        <span id="timer-seconds">15</span>s
                    </div>
                    <div id="drag-options" class="drag-options">
                        <!-- Las opciones de precios se generan din√°micamente -->
                    </div>
                    <div id="drop-zone" class="drop-zone">
                        <span class="drop-zone-text">üëâ Selecciona tu respuesta</span>
                    </div>
                </div>
            </div>

            <!-- Quantity Screen -->
            <div id="quantity-screen" class="screen" data-screen="quantity">
                <button class="back-button" data-back-to="price">‚Üê</button>
                <header class="screen-header">
                    <h2 id="quantity-question">¬øCu√°ntas unidades compras al mes?</h2>
                </header>
                <div class="screen-content">
                    <div id="quantity-timer-display" class="timer-display">
                        <span id="quantity-timer-seconds">15</span>s
                    </div>
                    <div id="quantity-options" class="drag-options">
                        <!-- Las opciones de cantidad se generan din√°micamente -->
                    </div>
                    <div id="quantity-drop-zone" class="drop-zone">
                        <span class="drop-zone-text">üëâ Selecciona tu respuesta</span>
                    </div>
                </div>
            </div>

            <!-- Cleaning Products Result Screen -->
            <div id="cleaning-result-screen" class="screen" data-screen="cleaning-result">
                <button class="back-button" data-back-to="quantity">‚Üê</button>
                <header class="screen-header">
                    <h2>üßπ Resultado de Productos de Limpieza</h2>
                </header>
                <div class="screen-content">
                    <div id="cleaning-thinking" class="thinking-animation">
                        <div class="brain-icon">üß†</div>
                        <div class="thinking-text">‚û°Ô∏è Sumando tus gastos en productos de limpieza...</div>
                    </div>
                    <div id="cleaning-calculation-result" class="calculation-result hidden">
                        <div class="result-alert-orange">
                            <p class="result-title-orange">üßπ Tus gastos mensuales en productos de limpieza son:</p>
                            <div class="alert-box-orange">
                                <span class="currency-orange">üí∞ $</span>
                                <span id="cleaning-total-amount" class="amount-orange">0.00</span>
                            </div>
                        </div>
                        <button id="cleaning-continue-button" class="cleaning-continue-button hidden">üëâ Continuar</button>
                    </div>
                </div>
            </div>

            <!-- Water Type Screen -->
            <div id="water-type-screen" class="screen" data-screen="water-type">
                <button class="back-button" data-back-to="cleaning-result">‚Üê</button>
                <header class="screen-header">
                    <h2 id="water-type-title">üíß Ahora hablemos del agua que consumes</h2>
                </header>
                <div class="screen-content">
                    <div class="water-question">
                        <p class="question-text">¬øQu√© tipo de agua bebes actualmente?</p>
                    </div>
                    <div id="water-type-options" class="drag-options">
                        <!-- Las opciones de tipo de agua se generan din√°micamente -->
                    </div>
                    <div id="water-type-drop-zone" class="drop-zone">
                        <span class="drop-zone-text">üëâ Selecciona tu respuesta</span>
                    </div>
                </div>
            </div>

            <!-- Water Warning Screen -->
            <div id="water-warning-screen" class="screen" data-screen="water-warning">
                <button class="back-button" data-back-to="water-type">‚Üê</button>
                <header class="screen-header">
                    <h2>‚ö†Ô∏è Advertencia</h2>
                </header>
                <div class="screen-content">
                    <div class="warning-icon">‚ùå</div>
                    <div id="warning-messages" class="warning-messages">
                        <p class="warning-message active">‚ö†Ô∏è Peligro invisible: el agua del grifo puede contener cloro, sedimentos y metales pesados.</p>
                        <p class="warning-message">‚ö†Ô∏è Riesgo silencioso: tuber√≠as antiguas liberan √≥xido y plomo.</p>
                        <p class="warning-message">‚ö†Ô∏è El cloro no lo elimina todo: bacterias y quistes pueden llegar a tu cuerpo.</p>
                        <p class="warning-message">‚ö†Ô∏è Por su salud, a mediano y largo plazo. Le recomiendo tomar, desde ya mismo, una medida contra esta situaci√≥n. Recuerde: lo que no se corrige hoy, el cuerpo lo cobra ma√±ana.</p>
                    </div>
                    <button id="warning-continue-button" class="primary-button warning-continue-button hidden">üëâ Continuar</button>
                </div>
            </div>

            <!-- Water Simulation Screen -->
            <div id="water-simulation-screen" class="screen" data-screen="water-simulation">
                <button class="back-button" data-back-to="water-warning">‚Üê</button>
                <header class="screen-header">
                    <h2>üíß Simulaci√≥n de Gastos</h2>
                </header>
                <div class="screen-content">
                    <div class="water-question">
                        <p id="water-simulation-text" class="question-text">No se preocupe, usted hoy tiene la soluci√≥n en sus manos, as√≠ que hagamos una simulaci√≥n de gastos de agua.</p>
                    </div>
                    <button id="water-simulation-button" class="primary-button welcome-button">
                        üëâ Adelante
                    </button>
                </div>
            </div>

            <!-- Water Frequency Screen -->
            <div id="water-frequency-screen" class="screen" data-screen="water-frequency">
                <button class="back-button" data-back-to="water-simulation">‚Üê</button>
                <header class="screen-header">
                    <h2>Frecuencia de compra por semana</h2>
                </header>
                <div class="screen-content">
                    <div class="water-question">
                        <p class="question-text">¬øCu√°ntas veces compras agua a la semana?</p>
                    </div>
                    <div id="water-frequency-options" class="drag-options">
                        <!-- Las opciones de frecuencia se generan din√°micamente -->
                    </div>
                    <div id="water-frequency-drop-zone" class="drop-zone">
                        <span class="drop-zone-text">üëâ Selecciona tu respuesta</span>
                    </div>
                </div>
            </div>

            <!-- Water Price Screen -->
            <div id="water-price-screen" class="screen" data-screen="water-price">
                <button class="back-button" data-back-to="water-frequency">‚Üê</button>
                <header class="screen-header">
                    <h2>üíß Precio del agua</h2>
                </header>
                <div class="screen-content">
                    <div class="water-question">
                        <p class="question-text">¬øCu√°nto pagas por cada compra?</p>
                    </div>
                    <div id="water-price-options" class="drag-options">
                        <!-- Las opciones de precio se generan din√°micamente -->
                    </div>
                    <div id="water-price-drop-zone" class="drop-zone">
                        <span class="drop-zone-text">üëâ Selecciona tu respuesta</span>
                    </div>
                </div>
            </div>

            <!-- Water Result Screen -->
            <div id="water-result-screen" class="screen" data-screen="water-result">
                <button class="back-button" data-back-to="water-price">‚Üê</button>
                <header class="screen-header">
                    <h2>üíß Resultado del agua</h2>
                </header>
                <div class="screen-content">
                    <div id="water-thinking" class="thinking-animation">
                        <div class="brain-icon">üß†</div>
                        <div class="thinking-text">‚û°Ô∏è Sumando solo los gastos del agua.</div>
                    </div>
                    <div id="water-calculation-result" class="calculation-result hidden">
                        <div class="result-alert-orange">
                            <p class="result-title-orange">üßπ Tus gastos mensuales en agua son:</p>
                            <div class="alert-box-orange">
                                <span class="currency-orange">üí∞ $</span>
                                <span id="water-total-amount" class="amount-orange">0.00</span>
                            </div>
                        </div>
                        <button id="water-continue-button" class="cleaning-continue-button hidden">üëâ Continuar</button>
                    </div>
                </div>
            </div>

            <!-- Results Screen -->
            <div id="results-screen" class="screen" data-screen="results">
                <button class="back-button" data-back-to="water-result">‚Üê</button>
                <header class="screen-header">
                    <h2 id="results-title">Calculando...</h2>
                </header>
                <div class="screen-content">
                    <div id="thinking-animation" class="thinking-animation">
                        <div class="brain-icon">üß†</div>
                        <div class="thinking-text">‚û°Ô∏è Sumando tus gastos generales...</div>
                        <div class="thinking-dots">
                            <span>.</span><span>.</span><span>.</span>
                        </div>
                    </div>
                    <div id="calculation-result" class="calculation-result hidden">
                        <div class="alert-maximum-container">
                            <div class="red-lights"></div>
                            <div class="result-alert-maximum">
                                <p class="alert-warning-text">‚ö†Ô∏è Tus gastos mensuales superan los est√°ndares normales de consumo.</p>
                                <p class="result-title-maximum">üí∞ Gastos totales mensuales:</p>
                                <div class="alert-box-maximum">
                                    <span class="currency-maximum">$</span>
                                    <span id="total-amount" class="amount-maximum">0.00</span>
                                </div>
                            </div>
                        </div>
                        <button id="results-continue-button" class="cleaning-continue-button hidden">üëâ Continuar</button>
                    </div>
                </div>
            </div>

            <!-- Multiplier Screen -->
            <div id="multiplier-screen" class="screen" data-screen="multiplier">
                <button class="back-button" data-back-to="results">‚Üê</button>
                <header class="screen-header">
                    <h2>üî¢ Multiplicador</h2>
                </header>
                <div class="screen-content">
                    <div class="multiplier-question">
                        <p class="question-text">¬øElige por cu√°ntos meses?</p>
                    </div>
                    <div class="multiplier-container">
                        <div class="multiplier-display">
                            <span id="multiplier-value" class="multiplier-value">12</span>
                            <span class="multiplier-label">meses</span>
                        </div>
                        <input type="range" id="multiplier-slider" class="multiplier-slider" min="1" max="12" value="12" step="1">
                        <div class="multiplier-labels">
                            <span>1</span>
                            <span>6</span>
                            <span>12</span>
                        </div>
                    </div>
                    <div class="multiplier-calculation">
                        <p class="calculation-text">üìä Total acumulado:</p>
                        <div class="alert-box-maximum">
                            <span class="currency-maximum">$</span>
                            <span id="multiplied-total" class="amount-maximum">0.00</span>
                        </div>
                    </div>
                    <button id="multiplier-continue" class="primary-button multiplier-button">
                        Continuar
                    </button>
                </div>
            </div>

            <!-- Years Multiplier Screen -->
            <div id="years-multiplier-screen" class="screen" data-screen="years-multiplier">
                <button class="back-button" data-back-to="multiplier">‚Üê</button>
                <header class="screen-header">
                    <h2>üî¢ Multiplicador de A√±os</h2>
                </header>
                <div class="screen-content">
                    <div class="multiplier-question">
                        <p class="question-text">¬øDurante cu√°ntos a√±os aproximadamente ser√° este gasto?</p>
                    </div>
                    <div class="multiplier-container">
                        <div class="multiplier-display">
                            <span id="years-multiplier-value" class="multiplier-value">1</span>
                            <span class="multiplier-label">a√±os</span>
                        </div>
                        <input type="range" id="years-multiplier-slider" class="multiplier-slider" min="1" max="100" value="1" step="1">
                        <div class="multiplier-labels">
                            <span>1</span>
                            <span>50</span>
                            <span>100</span>
                        </div>
                    </div>
                    <button id="years-multiplier-continue" class="primary-button multiplier-button">
                        Continuar
                    </button>
                </div>
            </div>

            <!-- Years Result Screen -->
            <div id="years-result-screen" class="screen" data-screen="years-result">
                <button class="back-button" data-back-to="years-multiplier">‚Üê</button>
                <header class="screen-header">
                    <h2 id="years-result-title">Calculando...</h2>
                </header>
                <div class="screen-content">
                    <div id="years-thinking-animation" class="thinking-animation">
                        <div class="brain-icon">üß†</div>
                        <div id="years-thinking-text" class="thinking-text">‚û°Ô∏è Calculando sus gastos por 1 a√±o...</div>
                        <div class="thinking-dots">
                            <span>.</span><span>.</span><span>.</span>
                        </div>
                    </div>
                    <div id="years-calculation-result" class="calculation-result hidden">
                        <div class="alert-maximum-container">
                            <div class="red-lights"></div>
                            <div class="result-alert-maximum">
                                <p class="alert-warning-text">‚ö†Ô∏è Tus gastos acumulados superan los est√°ndares normales de consumo.</p>
                                <p class="result-title-maximum">üí∞ Gasto total acumulado:</p>
                                <div class="alert-box-maximum">
                                    <span class="currency-maximum">$</span>
                                    <span id="years-total-amount" class="amount-maximum">0.00</span>
                                </div>
                            </div>
                        </div>
                        <button id="years-result-continue-button" class="cleaning-continue-button hidden">üëâ Continuar</button>
                    </div>
                </div>
            </div>

            <!-- Validation Screen -->
            <div id="validation-screen" class="screen" data-screen="validation">
                <button class="back-button" data-back-to="years-result">‚Üê</button>
                <header class="screen-header">
                    <h2>üö® Confirmaci√≥n</h2>
                </header>
                <div class="screen-content">
                    <div class="validation-message">
                        <p class="validation-question">‚ö†Ô∏è ¬øSeguro que los montos de precios ingresados, reflejan el aproximado de tus gastos al mes?</p>
                    </div>
                    <div class="validation-options">
                        <button id="validation-yes" class="validation-button yes">‚úîÔ∏è S√ç</button>
                        <button id="validation-no" class="validation-button no">‚ùå NO</button>
                    </div>
                </div>
            </div>

            <!-- Validation Review Modal -->
            <div id="validation-review-modal" class="modal-overlay hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>‚ö†Ô∏è Revisar Precios</h3>
                    </div>
                    <div class="modal-body">
                        <p id="validation-review-modal-text">Ok, revisemos de nuevo tus precios</p>
                    </div>
                    <div class="modal-footer">
                        <button id="validation-review-accept" class="modal-button accept">Aceptar</button>
                        <button id="validation-review-cancel" class="modal-button cancel">Cancelar</button>
                    </div>
                </div>
            </div>

            <!-- Analysis Screen -->
            <div id="analysis-screen" class="screen" data-screen="analysis">
                <button class="back-button" data-back-to="validation">‚Üê</button>
                <header class="screen-header">
                    <h2>Analizando...</h2>
                </header>
                <div class="screen-content">
                    <div id="analysis-thinking-animation" class="thinking-animation">
                        <div class="brain-icon">üß†</div>
                        <div id="analysis-thinking-text" class="thinking-text">‚û°Ô∏è Analizando tu situaci√≥n...</div>
                        <div class="thinking-dots">
                            <span>.</span><span>.</span><span>.</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Prize Screen -->
            <div id="prize-screen" class="screen" data-screen="prize">
                <button class="back-button" data-back-to="analysis">‚Üê</button>
                <header class="screen-header">
                    <h1 class="prize-title">üéâ ¬°FELICIDADES!</h1>
                </header>
                <div class="screen-content">
                    <div id="confetti-container" class="confetti-container"></div>
                    <div class="prize-content">
                        <div class="prize-message">
                            <p class="prize-main-text">
                                Has calificado para recibir <strong>GRATIS</strong> la dotaci√≥n de todos los productos evaluados, durante <strong>5 A√ëOS consecutivos</strong>. Todo esto incluidos con la adquisici√≥n del <strong>Purificador de Agua Pasteur Water System</strong>.
                            </p>
                            <p class="prize-question-text">
                                ¬øAl comenzar desde hoy mismo lo har√≠a por ?
                            </p>
                        </div>
                        <div class="prize-benefits">
                            <div class="benefit-item" id="benefit-ahorro" data-benefit="ahorro">
                                <span class="benefit-icon">üíß</span>
                                <span class="benefit-text">Ahorro</span>
                            </div>
                            <div class="benefit-item" id="benefit-salud" data-benefit="salud">
                                <span class="benefit-icon">üíß</span>
                                <span class="benefit-text">Salud</span>
                            </div>
                            <div class="benefit-item" id="benefit-tranquilidad" data-benefit="tranquilidad">
                                <span class="benefit-icon">üíß</span>
                                <span class="benefit-text">Tranquilidad</span>
                            </div>
                        </div>
                        <button id="prize-continue" class="primary-button prize-accept-button">
                            Quiero mejorar mi agua
                        </button>
                    </div>
                    <div class="tank-image-container">
                        <img src="styles/tanque/479bf1_05ef7700946d43d7a32166d486d18115f000.avif" alt="Tanque" class="tank-image">
                    </div>
                </div>
            </div>

            <!-- Benefit Detail Screens -->
            <!-- Ahorro Detail Screen -->
            <div id="benefit-ahorro-screen" class="screen" data-screen="benefit-ahorro">
                <button class="back-button" data-back-to="prize">‚Üê</button>
                <header class="screen-header">
                    <h2>üíß Ahorro</h2>
                </header>
                <div class="screen-content">
                    <div class="benefit-tank-logo">
                        <img src="styles/tanque completo/1000475288.png" alt="Tanque completo" class="benefit-tank-image">
                    </div>
                    <div class="benefit-detail-message">
                        <p class="benefit-detail-text">
                            Invertir una sola vez para dejar de pagar agua embotellada todos los meses. Tu cerebro percibe control financiero y menor gasto futuro.
                        </p>
                    </div>
                    <button id="benefit-ahorro-back" class="primary-button prize-accept-button">
                        Felicidades! üéâ
                    </button>
                </div>
            </div>

            <!-- Salud Detail Screen -->
            <div id="benefit-salud-screen" class="screen" data-screen="benefit-salud">
                <button class="back-button" data-back-to="prize">‚Üê</button>
                <header class="screen-header">
                    <h2>üíß Salud</h2>
                </header>
                <div class="screen-content">
                    <div class="benefit-tank-logo">
                        <img src="styles/tanque completo/1000475288.png" alt="Tanque completo" class="benefit-tank-image">
                    </div>
                    <div class="benefit-detail-message">
                        <p class="benefit-detail-text">
                            Agua libre de contaminantes que tu cuerpo reconoce como segura. Menos carga t√≥xica, m√°s energ√≠a y bienestar a largo plazo.
                        </p>
                    </div>
                    <button id="benefit-salud-back" class="primary-button prize-accept-button">
                        Felicidades! üéâ
                    </button>
                </div>
            </div>

            <!-- Tranquilidad Detail Screen -->
            <div id="benefit-tranquilidad-screen" class="screen" data-screen="benefit-tranquilidad">
                <button class="back-button" data-back-to="prize">‚Üê</button>
                <header class="screen-header">
                    <h2>üíß Tranquilidad</h2>
                </header>
                <div class="screen-content">
                    <div class="benefit-tank-logo">
                        <img src="styles/tanque completo/1000475288.png" alt="Tanque completo" class="benefit-tank-image">
                    </div>
                    <div class="benefit-detail-message">
                        <p class="benefit-detail-text">
                            La certeza diaria de que t√∫ y tu familia beben agua confiable sin preocuparse por lo invisible. Descanso mental autom√°tico.
                        </p>
                    </div>
                    <button id="benefit-tranquilidad-back" class="primary-button prize-accept-button">
                        Felicidades! üéâ
                    </button>
                </div>
            </div>

            <!-- Specialist Contact Screen -->
            <div id="specialist-screen" class="screen" data-screen="specialist">
                <button class="back-button" data-back-to="prize">‚Üê</button>
                <header class="screen-header">
                    <h2>üéâ Felicidades</h2>
                </header>
                <div class="screen-content">
                    <div class="logo-container">
                        <img src="styles/Logo/d856f2_cf6bc381d9fb47c6ad407ae5095cc914~mv2.png" alt="Logo" class="main-logo">
                    </div>
                    <div class="specialist-message">
                        <p class="specialist-text">
                            Felicidades, nuestros especialistas le ayudar√°n en todo desde ya mismo.
                        </p>
                    </div>
                    <button id="view-summary-button" class="primary-button">
                        Ver Resumen de Gastos
                    </button>
                </div>
            </div>

            <!-- Summary Screen -->
            <div id="summary-screen" class="screen" data-screen="summary">
                <button class="back-button" data-back-to="specialist">‚Üê</button>
                <header class="screen-header">
                    <h2>üìä Resumen de Gastos</h2>
                </header>
                <div class="screen-content summary-content">
                    <div id="summary-table-container" class="summary-table-container">
                        <!-- La tabla se generar√° din√°micamente -->
                    </div>
                    <button id="download-pdf-button" class="primary-button download-button">
                        üì• Descargar PDF
                    </button>
                </div>
            </div>

        </section>

        <!-- Audio Elements -->
        <div id="audio-container" class="audio-container hidden">
            <!-- Audio will be managed via Web Audio API -->
        </div>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay hidden">
            <div class="loading-spinner"></div>
            <p>Cargando...</p>
        </div>

    </main>

    <!-- JavaScript - Versi√≥n Simplificada y Funcional -->
    <script src="JS/app.js"></script>
    
    <!-- Service Worker Registration para PWA -->
    <script>
        // Registrar el Service Worker para modo offline
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((registration) => {
                        console.log('‚úÖ Service Worker registrado exitosamente:', registration.scope);
                    })
                    .catch((error) => {
                        console.log('‚ùå Error al registrar Service Worker:', error);
                    });
            });
        } else {
            console.log('‚ö†Ô∏è Este navegador no soporta Service Workers');
        }
    </script>
</body>
</html>